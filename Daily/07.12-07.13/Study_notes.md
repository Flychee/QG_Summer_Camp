# 07.12-07.13学习笔记
##卡尔曼滤波器
《多智能体系统一致性问题研究》第一章的最后一个算法与卡尔曼滤波器密切相关，故以下为卡尔曼滤波器的学习笔记。  
     
     
一般而言，卡尔曼滤波器用于线性系统，滤波器通过不断迭代  
消除影响，使得通过观察值可以间接预估目标值。  
对于方程
$$\dot{x} = Ax+Bu$$
$$y = Cx$$  
有
* $x$为目标值  
* $u$为输入值
* $y$为观测值

设$\hat{x}$为预测值, 误差$e=\hat{x}-x$，
可设$$\dot{\hat{x}}=A\hat{x}+Bu+K(y-\hat{y})$$
K为滤波器
可得$\dot{e}=(A-KC)e$，$K$为滤波器，解方程可知$A-KC<0$，方程收敛

当我们假设
$$x_k = Ax_k-1+Bu+w$$
$$y_k = Cx_k+v$$
* w为过程噪声
* v为测量噪声  
可设$${\hat{x}_k}=A\hat{x}_{k-1}+Bu+K(y_k-C(A\hat{x}_{k-1}+Bu))$$
上式中$A\hat{x}_{k-1}+Bu=\hat{x}_k$，但显然该结果与上式不同之处在于，该结果并未受$y$影响，故应写成$\hat{x}_{k}^-$  
上式改写为
$${\hat{x}_k}=\hat{x}_{k}^-+K(y_k-C\hat{x}_{k}^-)$$
不妨设$P_k$为$\hat{x}_k$的方差，由方程得
$$P_k^-=AP_{k-1}A^T+Q$$
对于预测值有
$$K_k=P_k^-C^T/(CP_k^-C^T+R)$$
其中$R$为测量噪声的方差
$$P_k = (I-KC)P_k^-$$